<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/effect/mob_spawn/ghost_role - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/effect/mob_spawn/ghost_role.html#var">Var Details</a> - <a href="obj/effect/mob_spawn/ghost_role.html#proc">Proc Details</a></header><main><h1>ghost_role <aside>/<a href="obj.html">obj</a>/<a href="obj/effect/mob_spawn.html">effect/mob_spawn</a>/<a href="obj/effect/mob_spawn/ghost_role.html">ghost_role</a></aside> <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L110"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 110"></a></h1><p>these mob spawn subtypes do not trigger until attacked by a ghost.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/allow_mechanical_loadout_items">allow_mechanical_loadout_items</a></th><td>Should the ghost role get mechanical loadout items (i.e weaponry)</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/ckeys_trying_to_spawn">ckeys_trying_to_spawn</a></th><td>A list of the ckeys that currently are trying to access this spawner, so that they can't try to spawn more than once (in case there's sleeps).
Static because you only really want to be able to spawn in one spawner at a time, obviously.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/computer_area">computer_area</a></th><td>For figuring out where the local cryopod computer is. Must be set for cryo computer announcements.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/deletes_on_zero_uses_left">deletes_on_zero_uses_left</a></th><td>Does the spawner delete itself when it runs out of uses?</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/flavour_text">flavour_text</a></th><td>This should be the actual instructions/description/context to the ghost role. This should be the really long explainy bit, basically.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/important_text">important_text</a></th><td>This is critical non-policy information about the ghost role. Shown in the spawner menu and after spawning last.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/loadout_enabled">loadout_enabled</a></th><td>Can we use our loadout for this role?</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/prompt_ghost">prompt_ghost</a></th><td>if false, you won't prompt for this role. best used for replacing the prompt system with something else like a radial, or something.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/prompt_name">prompt_name</a></th><td>a short, lowercase name for the mob used in possession prompt that pops up on ghost attacks. must be set.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/quirks_enabled">quirks_enabled</a></th><td>Can we use our quirks for this role?</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/restricted_species">restricted_species</a></th><td>Are we limited to a certain species type? LISTED TYPE</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/role_ban">role_ban</a></th><td>/bans and policy
which role to check for a job ban (ROLE_LAVALAND is the default ghost role ban)</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/show_flavor">show_flavor</a></th><td>Show these on spawn? Usually used for hardcoded special flavor</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/spawner_job_path">spawner_job_path</a></th><td>Typepath indicating the kind of job datum this ghost role will have. PLEASE inherit this with a new job datum, it's not hard. jobs come with policy configs.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/temp_body">temp_body</a></th><td>Whether this offers a temporary body or not. Essentially, you'll be able to reenter your body after using this spawner.</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/use_outfit_name">use_outfit_name</a></th><td>set this to make the spawner use the outfit.name instead of its name var for things like cryo announcements and ghost records
modifying the actual name during the game will cause issues with the GLOB.mob_spawners associative list</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/uses">uses</a></th><td>how many times this spawner can be used (it won't delete unless it's out of uses and the var to delete itself is set)</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/you_are_text">you_are_text</a></th><td>/descriptions
This should be the declaration of what the ghost role is, and maybe a short blurb after if you want. Shown in the spawner menu and after spawning first.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/allow_spawn">allow_spawn</a></th><td>override this to add special spawn conditions to a ghost role</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/apply_job_traits">apply_job_traits</a></th><td>Apply <a href="datum/job.html#var/mind_traits" title="/datum/job">/datum/job/var/mind_traits</a> and <a href="datum/job.html#var/liver_traits" title="/datum/job">/datum/job/var/liver_traits</a> to newly spawned mob along with <a href="code/__DEFINES/traits/declarations.html#define/TRAIT_CLIENT_STARTING_ORGAN" title="TRAIT_CLIENT_STARTING_ORGAN">TRAIT_CLIENT_STARTING_ORGAN</a> to every organ</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/check_uses">check_uses</a></th><td>Checks if the spawner has zero uses left, if so, delete yourself... NOW!</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/create_from_ghost">create_from_ghost</a></th><td>Uses a use and creates a mob from a passed ghost</td></tr><tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/get_spawner_outfit_name">get_spawner_outfit_name</a></th><td>Returns the the alt name for this spawner, which is 'outfit.name'.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/allow_mechanical_loadout_items"><aside class="declaration">var </aside>allow_mechanical_loadout_items <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm#L14"><img src="git.png" width="16" height="16" title="modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm 14"></a></h3><p>Should the ghost role get mechanical loadout items (i.e weaponry)</p><h3 id="var/ckeys_trying_to_spawn"><aside class="declaration">var </aside>ckeys_trying_to_spawn <aside>– /static/list</aside> <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L121"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 121"></a></h3><p>A list of the ckeys that currently are trying to access this spawner, so that they can't try to spawn more than once (in case there's sleeps).
Static because you only really want to be able to spawn in one spawner at a time, obviously.</p><h3 id="var/computer_area"><aside class="declaration">var </aside>computer_area <aside>– /<a href="area.html">area</a></aside> <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/modules/cryosleep/code/cryopod.dm#L604"><img src="git.png" width="16" height="16" title="modular_nova/modules/cryosleep/code/cryopod.dm 604"></a></h3><p>For figuring out where the local cryopod computer is. Must be set for cryo computer announcements.</p><h3 id="var/deletes_on_zero_uses_left"><aside class="declaration">var </aside>deletes_on_zero_uses_left <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 118"></a></h3><p>Does the spawner delete itself when it runs out of uses?</p><h3 id="var/flavour_text"><aside class="declaration">var </aside>flavour_text <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L128"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 128"></a></h3><p>This should be the actual instructions/description/context to the ghost role. This should be the really long explainy bit, basically.</p><h3 id="var/important_text"><aside class="declaration">var </aside>important_text <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L130"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 130"></a></h3><p>This is critical non-policy information about the ghost role. Shown in the spawner menu and after spawning last.</p><h3 id="var/loadout_enabled"><aside class="declaration">var </aside>loadout_enabled <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm#L10"><img src="git.png" width="16" height="16" title="modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm 10"></a></h3><p>Can we use our loadout for this role?</p><h3 id="var/prompt_ghost"><aside class="declaration">var </aside>prompt_ghost <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L114"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 114"></a></h3><p>if false, you won't prompt for this role. best used for replacing the prompt system with something else like a radial, or something.</p><h3 id="var/prompt_name"><aside class="declaration">var </aside>prompt_name <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L112"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 112"></a></h3><p>a short, lowercase name for the mob used in possession prompt that pops up on ghost attacks. must be set.</p><h3 id="var/quirks_enabled"><aside class="declaration">var </aside>quirks_enabled <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm#L12"><img src="git.png" width="16" height="16" title="modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm 12"></a></h3><p>Can we use our quirks for this role?</p><h3 id="var/restricted_species"><aside class="declaration">var </aside>restricted_species <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm#L16"><img src="git.png" width="16" height="16" title="modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm 16"></a></h3><p>Are we limited to a certain species type? LISTED TYPE</p><h3 id="var/role_ban"><aside class="declaration">var </aside>role_ban <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L138"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 138"></a></h3><p>/bans and policy
which role to check for a job ban (ROLE_LAVALAND is the default ghost role ban)</p><h3 id="var/show_flavor"><aside class="declaration">var </aside>show_flavor <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L133"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 133"></a></h3><p>Show these on spawn? Usually used for hardcoded special flavor</p><h3 id="var/spawner_job_path"><aside class="declaration">var </aside>spawner_job_path <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L140"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 140"></a></h3><p>Typepath indicating the kind of job datum this ghost role will have. PLEASE inherit this with a new job datum, it's not hard. jobs come with policy configs.</p><h3 id="var/temp_body"><aside class="declaration">var </aside>temp_body <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L143"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 143"></a></h3><p>Whether this offers a temporary body or not. Essentially, you'll be able to reenter your body after using this spawner.</p><h3 id="var/use_outfit_name"><aside class="declaration">var </aside>use_outfit_name <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm#L8"><img src="git.png" width="16" height="16" title="modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm 8"></a></h3><p>set this to make the spawner use the outfit.name instead of its name var for things like cryo announcements and ghost records
modifying the actual name during the game will cause issues with the GLOB.mob_spawners associative list</p><h3 id="var/uses"><aside class="declaration">var </aside>uses <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L116"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 116"></a></h3><p>how many times this spawner can be used (it won't delete unless it's out of uses and the var to delete itself is set)</p><h3 id="var/you_are_text"><aside class="declaration">var </aside>you_are_text <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L126"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 126"></a></h3><p>/descriptions
This should be the declaration of what the ghost role is, and maybe a short blurb after if you want. Shown in the spawner menu and after spawning first.</p><h2 id="proc">Proc Details</h2><h3 id="proc/allow_spawn"><aside class="declaration">proc </aside>allow_spawn<aside>(/<a href="mob.html">mob</a>/user, silent)  <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L289"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 289"></a></aside></h3><p>override this to add special spawn conditions to a ghost role</p><h3 id="proc/apply_job_traits"><aside class="declaration">proc </aside>apply_job_traits<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/spawned_human)  <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm#L92"><img src="git.png" width="16" height="16" title="modular_nova/master_files/code/modules/mob_spawn/mob_spawn.dm 92"></a></aside></h3><p>Apply <a href="datum/job.html#var/mind_traits" title="/datum/job">/datum/job/var/mind_traits</a> and <a href="datum/job.html#var/liver_traits" title="/datum/job">/datum/job/var/liver_traits</a> to newly spawned mob along with <a href="code/__DEFINES/traits/declarations.html#define/TRAIT_CLIENT_STARTING_ORGAN" title="TRAIT_CLIENT_STARTING_ORGAN">TRAIT_CLIENT_STARTING_ORGAN</a> to every organ</p><h3 id="proc/check_uses"><aside class="declaration">proc </aside>check_uses<aside>()  <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L284"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 284"></a></aside></h3><p>Checks if the spawner has zero uses left, if so, delete yourself... NOW!</p><h3 id="proc/create_from_ghost"><aside class="declaration">proc </aside>create_from_ghost<aside>(/<a href="mob.html">mob</a>/<a href="mob/dead.html">dead</a>/user, use_loadout)  <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/code/modules/mob_spawn/mob_spawn.dm#L227"><img src="git.png" width="16" height="16" title="code/modules/mob_spawn/mob_spawn.dm 227"></a></aside></h3><p>Uses a use and creates a mob from a passed ghost</p>
<p>Does NOT validate that the spawn is possible or valid - assumes this has been done already!</p>
<p>If you are manually forcing a player into this mob spawn,
you should be using this and not directly calling [proc/create].</p><h3 id="proc/get_spawner_outfit_name"><aside class="declaration">proc </aside>get_spawner_outfit_name<aside>()  <a href="https://github.com/NovaSector/NovaSector/blob/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370/modular_nova/modules/cryosleep/code/cryopod.dm#L643"><img src="git.png" width="16" height="16" title="modular_nova/modules/cryosleep/code/cryopod.dm 643"></a></aside></h3><p>Returns the the alt name for this spawner, which is 'outfit.name'.</p>
<p>For when you might want to use that for things instead of the name var.
example: the DS2 spawners, which have a number of different types of spawner with the same name.</p></main><footer>tgstation.dme <a href="https://github.com/NovaSector/NovaSector/tree/2706d7ceea9e7f52ad9f3ce00557a241f9d8c370">2706d7c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>